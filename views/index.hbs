<div class="row justify-content-center mb-3">
  <form class="col-4" action="/filter" method="GET">
    <select class="form-select" aria-label="filterSelect" name="filterSelect" onchange="submit()">
      <option value="none">類別</option>
      {{#each categories}}
        <option {{#if this.isSelected}} selected {{/if}} value="{{ this.name }}">{{ this.name }}</option>
      {{/each}}
    </select>
  </form>
</div>
<div class="row justify-content-center mb-3">
  <div class="col-1">
    <p>總金額：</p>
  </div>
  <div class="col-3 fs-1 text-end text-warning">
    <p>{{ totalAmount }}</p>
  </div>
</div>
<div class="row justify-content-center mb-3">
  <ul class="list-group">
    {{#each updateRecords}}
      <li class="list-group-item">
        <div class="row justify-content-end">
          <div class="col-1">
            <i class="{{ this.icon }}"></i>
          </div>
          <div class="col-4">
            <p>{{ this.name}}</p>
            <p>{{ this.date}}</p>
          </div>
          <div class="col-1">
            <p>{{ this.amount }}</p>
          </div>
          <div class="col-2">
            <a class="btn btn-success" href="/records/{{ this._id }}/edit" role="button">修改</a>
            <form action="./records/{{ this._id }}?_method=DELETE" method="POST" style="display: inline;">
              <button class="btn btn-danger" type="submit" onclick="confirmDelete(event)">刪除</button>
            </form>
          </div>
        </div>
      </li>
    {{/each}}
  </ul>
</div>
<div class="row justify-content-center">
  <a class="col-3 btn btn-warning" href="/records/new" role="button">新增支出</a>
</div>

<script>
  function confirmDelete(event) {
      if (confirm('Do you really want to delete?') === false) {
        event.preventDefault()
      }
    }
</script>